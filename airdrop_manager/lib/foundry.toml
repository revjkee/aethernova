# foundry.toml — корневой конфиг проекта
# Профили и standalone-секции описаны в официальной документации:
# https://getfoundry.sh/config/overview/  (profiles, fmt/fuzz и т.п.)

[profile.default]
# Базовая структура проекта
src  = "src"
test = "test"
out  = "out"
libs = ["lib"]

# Подключение forge-std из lib/forge-std/src
# Документация по remappings: https://getfoundry.sh/forge/reference/remappings/
remappings = ["forge-std/=lib/forge-std/src/"]

# Настройки компилятора
optimizer       = true
optimizer_runs  = 200
# evm_version   = "cancun"   # при необходимости зафиксируйте целевую EVM
# via_ir        = true       # включайте, если это согласовано с вашим пайплайном

# Отчет по газу для всех контрактов (forge test --gas-report)
# Документация: https://getfoundry.sh/forge/gas-reports
gas_reports = ["*"]

# Безопасность тестов: FFI по умолчанию выключен
ffi = false

[profile.ci]
# Более подробные трассы в CI
verbosity = 4
# Усиленное фаззинг-покрытие в CI (можно варьировать)
# См. standalone-секции ниже — этот ключ можно настроить там
# оставлен здесь для наглядности профилей
# fuzz_runs = 256

# Standalone-секции применяются к default-профилю,
# при необходимости используйте префикс [profile.ci.<section>]
# согласно документации (standalone -> profiles).

[fmt]
# Форматтер Foundry (standalone-секция)
line_length = 120

[fuzz]
# Глобальные параметры фаззинга тестов
runs = 256

# При необходимости добавьте RPC-алиасы (используются anvil/cast/forge script)
[rpc_endpoints]
sepolia = "${SEPOLIA_RPC_URL}"
mainnet = "${MAINNET_RPC_URL}"

# Настройки верификации можно задать отдельной секцией, используя переменные окружения
# [etherscan]
# mainnet = "${ETHERSCAN_API_KEY}"
# sepolia = "${ETHERSCAN_API_KEY}"
