{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "TeslaAI Genesis — Metrics Schema v1.0.0",
  "description": "Стандартизированная схема валидации метрик моделей",
  "type": "object",
  "properties": {
    "accuracy": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "direction": "maximize",
      "description": "Доля правильных предсказаний (classification)"
    },
    "f1_score": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "direction": "maximize",
      "description": "F1-мера по всем классам (macro/weighted)"
    },
    "precision": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "direction": "maximize",
      "description": "Средняя точность (precision) по всем классам"
    },
    "recall": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "direction": "maximize",
      "description": "Средняя полнота (recall) по всем классам"
    },
    "val_loss": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 100.0,
      "direction": "minimize",
      "description": "Функция потерь на валидации"
    },
    "mse": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 100000.0,
      "direction": "minimize",
      "description": "Mean Squared Error (regression)"
    },
    "mae": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 10000.0,
      "direction": "minimize",
      "description": "Mean Absolute Error (regression)"
    },
    "r2": {
      "type": "number",
      "minimum": -1.0,
      "maximum": 1.0,
      "direction": "maximize",
      "description": "R-squared коэффициент регрессии"
    },
    "bleu": {
      "type": "number",
      "minimum": 0.0,
      "maximum": 1.0,
      "direction": "maximize",
      "description": "BLEU score (для генерации текста)"
    },
    "run_id": {
      "type": "string",
      "pattern": "^run-[a-zA-Z0-9\\-_]+$",
      "description": "ID текущего прогона"
    },
    "timestamp": {
      "type": "string",
      "format": "date-time",
      "description": "Время фиксации метрик"
    }
  },
  "required": ["val_loss", "timestamp", "run_id"],
  "additionalProperties": false
}
