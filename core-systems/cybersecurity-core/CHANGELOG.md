# Changelog — cybersecurity-core

Формат: [Keep a Changelog 1.1.0] и [SemVer 2.0.0]. Все даты в формате ISO-8601 (YYYY-MM-DD).

## [Unreleased]
### Added
- Опция включения FIPS-совместимого криптопровайдера (переключатель через `SEC_CRYPTO_PROVIDER=fips`).
- Поддержка аппаратно защищённых ключей (PKCS#11/HSM) для подписи артефактов и JWT.
- Генерация SBOM и выпуск SLSA-provenance для сборок (`make sbom`, `make provenance`).
- Политики ротации ключей с пороговыми оповещениями (временные метки и гистерезис).

### Changed
- Минимальная версия TLS повышена до 1.3 (отключение негодных шифросуит).
- Паролесная аутентификация по умолчанию отключена; рекомендован WebAuthn/Passkeys.

### Security
- Переход на подпись токенов ES256 по умолчанию; RS256 доступен только по явному флагу.
- Жёсткая очистка секретов в логах (маскирование токенов, ключей, PII).

## [1.1.0] — 2025-08-29
### Added
- Zero-Trust Policy Engine v2 на базе OPA/Rego (поддержка policy-bundle, dry-run, audit trail).
- Admission-контроллер для кластеров (валидация подписей образов, `cosign verify` и policy-enforce).
- Канал Threat-Intel ingestion (STIX/TAXII) с нормализацией индикаторов.
- Загрузчик YARA-правил и API для версионирования правил детекций.
- Расширенная схема аудита на CloudEvents v1.0 (корреляция `trace_id`/`span_id`).

### Changed
- Единый формат структурированных логов (JSON Lines) и унифицированные ключи полей.
- Улучшена производительность пайплайна нормализации событий (в среднем −30% latency).

### Fixed
- Устранена гонка в воркере ротации ключей при перекрывающихся задачах.
- Исправлены edge-кейсы маскировки секретов в многострочных сообщениях.

### Security
- Обновления зависимостей для закрытия известных уязвимостей в криптопакетах и HTTP-стеке; фиксировано в SBOM.
- mTLS обязателен для внутренних сервис-связей; добавлено пинning корневых сертификатов.

## [1.0.1] — 2025-08-12
### Fixed
- Корректная обработка истечения срока сертификатов (grace-period + алерты).
- Исправлены некорректные уровни логирования некоторых путей (warn → info).

### Security
- Ужесточены заголовки безопасности для HTTP эндпоинтов (HSTS, CSP, Referrer-Policy).

## [1.0.0] — 2025-08-01
### Added
- Базовый каркас cybersecurity-core: аудит, политики, криптография, интеграция с CI/CD.
- Поддержка SemVer и CHANGELOG по Keep a Changelog; файл `VERSION`.
- Первичные политики Zero Trust (минимизация доверия, явная авторизация, явная верификация).
- Интеграция с генерацией SBOM и подписями релизов (подготовка к SLSA).

