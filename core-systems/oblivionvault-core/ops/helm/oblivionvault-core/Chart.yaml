apiVersion: v2
name: oblivionvault-core
description: >
  OblivionVault Core — промышленный чарт приложения для безопасного хранилища и сервисов
  обработки данных. Поддерживает автономный запуск или с опциональными зависимостями (DB/cache/object storage).
type: application

# Версия самого чарта (semver). Увеличивать при изменениях шаблонов/значений/зависимостей.
version: 0.1.0

# Версия приложения (обычно соответствует тэгу контейнерного образа по умолчанию).
appVersion: "1.0.0"

# Минимально поддерживаемая версия Kubernetes.
kubeVersion: ">=1.25.0-0"

# Ключевые слова для каталогов чартов/регистров.
keywords:
  - oblivionvault
  - security
  - vault
  - backend
  - kubernetes
  - aethernova

# Аннотации для каталогизации и автоматизированных индексов (artifact registries, каталог чарта и т. п.).
annotations:
  # Категория для каталогов чартов.
  category: "security"
  # Флаг предварительных релизов (false — стабильный).
  artifacthub.io/prerelease: "false"
  # Краткое описание изменений релиза (поддерживается многими реестрами).
  artifacthub.io/changes: |
    - Initial industrial chart with optional dependencies (Redis/PostgreSQL/MinIO).
  # Лицензия проекта (при необходимости синхронизировать с LICENSE в репозитории).
  artifacthub.io/license: "Apache-2.0"

# Опциональные зависимости. Загружаются только при соответствующих флагах в values.yaml.
# Диапазоны версий указаны строго, чтобы избежать неожиданных мажорных апгрейдов.
dependencies:
  # Кэш (опционально)
  - name: redis
    repository: "https://charts.bitnami.com/bitnami"
    version: ">=18.0.0 <19.0.0"
    condition: redis.enabled
    tags:
      - cache
      - backend

  # Реляционная БД (опционально)
  - name: postgresql
    repository: "https://charts.bitnami.com/bitnami"
    version: ">=15.0.0 <16.0.0"
    condition: postgresql.enabled
    tags:
      - database
      - backend

  # Объектное хранилище (опционально)
  - name: minio
    repository: "https://charts.bitnami.com/bitnami"
    version: ">=12.0.0 <13.0.0"
    condition: minio.enabled
    tags:
      - object-storage
      - backend

# Поддерживающие лица (на усмотрение команды).
maintainers:
  - name: Aethernova Engineering
    email: devnull@aethernova.invalid
    url: "https://aethernova.local"

# Дополнительно можно указать:
# home: "https://example.local/oblivionvault-core"
# sources:
#   - "https://example.local/oblivionvault-core/repository"
# icon: "https://example.local/assets/oblivionvault-icon.png"
