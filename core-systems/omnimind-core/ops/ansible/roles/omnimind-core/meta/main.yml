---
galaxy_info:
  role_name: omnimind-core
  author: OmniMind Platform Team
  description: >
    Production-grade role to deploy and operate OmniMind Core service on Linux hosts.
    Includes secure systemd unit, filesystem layout, logging/rotation, firewall,
    sysctl/limits hardening, and health checks. Designed for CI/CD and idempotent runs.

  company: OmniMind Inc.
  license: MIT

  # Минимально поддерживаемая версия Ansible Core
  min_ansible_version: "2.15"

  # Поддерживаемые ОС/платформы
  platforms:
    - name: Debian
      versions: ["11", "12"]
    - name: Ubuntu
      versions: ["20.04", "22.04", "24.04"]
    - name: EL
      versions: ["8", "9"]
    - name: Amazon
      versions: ["2023"]
    - name: Alpine
      versions: ["3.18", "3.19", "3.20"]

  # Классификация и поиск в Galaxy
  galaxy_tags:
    - omnimind
    - core
    - systemd
    - security
    - firewall
    - sysctl
    - logging
    - observability
    - prometheus
    - linux
    - deployment
    - automation

  # Публикационные метаданные (необязательно, но полезно)
  issue_tracker_url: "https://git.example.com/omnimind/omnimind-core/-/issues"
  homepage: "https://git.example.com/omnimind/omnimind-core"
  repository: "https://git.example.com/omnimind/omnimind-core.git"

  # Указание, что роль самостоятельная (не часть коллекции)
  standalone: true

# Обязательные коллекции (используются задачами/модулями роли)
collections:
  - ansible.posix           # sysctl, firewalld
  - community.general       # ufw, seboolean, прочие утилиты
  # Ниже — опциональные провайдеры контейнеров; включайте при docker/podman-режиме
  - community.docker        # если используется docker_container
  - containers.podman       # если используется podman_container

# Зависимости на другие роли (если требуются). По умолчанию пусто.
# Обратите внимание: условные зависимости через meta не поддерживаются —
# для них используйте include_role/import_role в tasks.
dependencies: []

# Исключение дублирования роли при зависимостях (по умолчанию false)
allow_duplicates: false
