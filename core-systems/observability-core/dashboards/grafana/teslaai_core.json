{
  "id": null,
  "uid": "teslaai-core",
  "title": "TeslaAI Core Dashboard",
  "tags": ["ai", "zero-trust", "genesis", "rl-agents", "observability"],
  "timezone": "browser",
  "schemaVersion": 39,
  "version": 1,
  "refresh": "10s",
  "panels": [
    {
      "type": "graph",
      "title": "RL Agent Reward (Avg)",
      "id": 1,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "avg_over_time(rl_agent_reward_total[5m])",
          "legendFormat": "{{agent_id}}",
          "refId": "A"
        }
      ],
      "yaxes": [
        { "format": "short", "label": "Reward", "logBase": 1, "min": null, "max": null },
        { "format": "short", "logBase": 1, "min": null, "max": null }
      ]
    },
    {
      "type": "stat",
      "title": "Access Denied (ZT)",
      "id": 2,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "increase(zero_trust_access_denied_total[5m])",
          "refId": "A"
        }
      ],
      "colors": ["green", "orange", "red"],
      "thresholds": "1,5"
    },
    {
      "type": "graph",
      "title": "Agent Restarts",
      "id": 3,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "increase(agent_restart_total[10m])",
          "refId": "A",
          "legendFormat": "{{agent_id}}"
        }
      ]
    },
    {
      "type": "table",
      "title": "High Risk Events (AI)",
      "id": 4,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "topk(10, ai_risk_score{risk_level=\"high\"})",
          "refId": "A"
        }
      ],
      "columns": [
        { "text": "Metric", "value": "metric" },
        { "text": "Value", "value": "value" }
      ]
    },
    {
      "type": "heatmap",
      "title": "Policy Drift Forecast",
      "id": 5,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "ai_policy_drift_forecast",
          "refId": "A"
        }
      ],
      "yAxis": {
        "format": "short",
        "logBase": 1
      }
    },
    {
      "type": "timeseries",
      "title": "Token Replay Detected",
      "id": 6,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "increase(zero_trust_token_reuse_detected[10m])",
          "refId": "A"
        }
      ]
    },
    {
      "type": "gauge",
      "title": "RL Training Queue Length",
      "id": 7,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "rl_training_queue_depth",
          "refId": "A"
        }
      ],
      "thresholds": {
        "mode": "absolute",
        "steps": [
          { "color": "green", "value": null },
          { "color": "orange", "value": 50 },
          { "color": "red", "value": 100 }
        ]
      }
    },
    {
      "type": "timeseries",
      "title": "GPT Token Usage",
      "id": 8,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "rate(ai_token_usage_total[5m])",
          "refId": "A"
        }
      ]
    },
    {
      "type": "stat",
      "title": "Security Violations (ZT)",
      "id": 9,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "increase(zero_trust_policy_violation_total[5m])",
          "refId": "A"
        }
      ]
    },
    {
      "type": "timeseries",
      "title": "Memory Usage by Agent",
      "id": 10,
      "datasource": "Prometheus",
      "targets": [
        {
          "expr": "container_memory_usage_bytes{container=~\"agent-.*\"}",
          "refId": "A",
          "legendFormat": "{{container}}"
        }
      ]
    }
  ]
}
