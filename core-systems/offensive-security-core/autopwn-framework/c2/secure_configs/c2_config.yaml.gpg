global:
  operation_id: "TESLA-OP-X42"
  team_server_ip: "192.168.3.3"
  fallback_servers:
    - "https://cdn-shadow.teslac2.org"
    - "https://sliver-obf.c2hub.net"
  encryption_key: "ENV::C2_ENCRYPTION_KEY"
  beacon_interval_sec: 60
  jitter: 20
  auto_reconnect: true
  failover_timeout_sec: 300

transport:
  http:
    endpoint: "/beacon"
    ssl: true
    user_agent: "Mozilla/5.0 (Windows NT 10.0; WOW64; Trident/7.0; rv:11.0) like Gecko"
    headers:
      Host: "cdn.edge.teslac2.net"
      Accept: "*/*"
      Connection: "keep-alive"
  https:
    endpoint: "/gate"
    ssl_cert_path: "/etc/ssl/c2_server.crt"
    ssl_key_path: "/etc/ssl/c2_server.key"
    verify_client: false
  dns:
    domain: "dns.c2mesh.teslaai"
    max_packet_size: 255
    poll_interval_sec: 120
  tcp:
    port: 443
    encryption: true
    obfuscation: "Base64"

authentication:
  operator_tokens:
    - name: "genesis-root"
      token: "ENV::GENESIS_ROOT_TOKEN"
      rbac: "admin"
    - name: "field-op-1"
      token: "ENV::FIELD_OP1_TOKEN"
      rbac: "operator"
    - name: "dev-observer"
      token: "ENV::DEV_OBSERVER_TOKEN"
      rbac: "readonly"

fallback_policy:
  retry_backoff_sec: 10
  max_retries: 8
  rotate_to_next: true

zero_trust:
  device_fingerprinting: true
  ip_whitelist:
    - "10.10.0.0/16"
    - "172.16.5.0/24"
  geo_fencing:
    allow_regions: ["SE", "IS", "CH", "BR"]
    block_on_violation: true
  max_session_lifetime_sec: 7200
  strict_tls_version: "1.2"

logging:
  level: "warning"
  output: "/var/log/c2/ops.log"
  remote_syslog: "tcp://log.teslac2.org:514"

integrity:
  auto_gpg_verify: true
  gpg_public_key_path: "/etc/teslac2/pubkey.asc"
