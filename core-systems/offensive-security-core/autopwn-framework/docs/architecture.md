# autopwn-framework/docs/architecture.md

# Архитектура autopwn-framework

## Общее описание

autopwn-framework — модульная система для автоматизации процессов пентестинга, эксплуатации уязвимостей и отчетности. Архитектура построена на основе асинхронных компонентов, обеспечивающих масштабируемость и расширяемость.

---

## Компоненты системы

### 1. CLI (Command Line Interface)
- Основной пользовательский интерфейс для запуска сканирований, эксплойтов и генерации отчетов.
- Обеспечивает вызов команд и передачу параметров.
- Интегрируется с внутренними сервисами для выполнения задач.

### 2. API
- REST и WebSocket API для интеграции с внешними системами и веб-интерфейсами.
- Позволяет управлять задачами и получать данные в реальном времени.

### 3. Services (Сервисы)
- Notification Service — отправка уведомлений по Email, Slack, Telegram.
- Storage Service — абстракция для работы с хранилищем данных.
- Engine Service — ядро выполнения задач сканирования и эксплуатации.
- Logging Service — централизованное логирование и аудит.

### 4. Task Queue и Event Bus
- Асинхронное распределение задач с использованием очередей (например, Redis, RabbitMQ).
- Обработка событий и оповещений внутри системы.

### 5. Modules (Модули сканеров и эксплойтов)
- Каждый сканер и эксплойт реализуется как отдельный модуль с унифицированным интерфейсом.
- Позволяет легко добавлять новые техники и инструменты.

---

## Поток данных

1. Пользователь или внешняя система отправляет команду через CLI или API.
2. Команда поступает в Engine Service, который ставит задачу в очередь.
3. Worker-агенты обрабатывают задачи, взаимодействуя с целевыми системами.
4. Результаты сохраняются в Storage Service и логируются.
5. При необходимости уведомления отправляются через Notification Service.
6. Отчеты формируются и предоставляются пользователю.

---

## Технологии и стандарты

- Язык программирования: Python 3.11+ с использованием `asyncio`.
- Асинхронные очереди: Redis или RabbitMQ.
- Документирование и конфигурация через Pydantic.
- Логирование с уровнями и централизованное хранение.
- Контейнеризация через Docker для упрощения деплоя.

---

## Принципы проектирования

- **Модульность** — изоляция функционала для простого расширения.
- **Асинхронность** — максимальная производительность и масштабируемость.
- **Унифицированный интерфейс** — единые контракты для модулей.
- **Безопасность** — минимизация рисков при эксплуатации.
- **Тестируемость** — покрытие кода юнит- и интеграционными тестами.

---

Это архитектурное описание задает чёткую основу для развития autopwn-framework и обеспечения высокого качества кода и производительности.

