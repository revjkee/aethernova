apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

# Собираем все ConstraintTemplate-манифесты из текущего каталога.
# Kustomize при указании каталога читает все ресурсы, кроме самого kustomization.yaml.
# Источник поведения: официальные руководства Kubernetes/Kustomize. 
# (Док. ссылки приведены вверху ответа)

resources:
  - ./

# Важно: не задаём namePrefix/nameSuffix — имена ConstraintTemplate должны оставаться стабильными,
# чтобы на них ссылались соответствующие Constraints.

# Единые метки для трассируемости и поиска
commonLabels:
  app.kubernetes.io/name: gatekeeper-templates-networking
  app.kubernetes.io/part-of: aethernova-chain-core
  app.kubernetes.io/component: policy
  gatekeeper.sh/template-scope: networking

# Единые аннотации для аудита и операционной поддержки
commonAnnotations:
  security.aethernova.io/owner: platform-security-core
  security.aethernova.io/reviewed: "true"
  security.aethernova.io/catalog: "gatekeeper/templates/networking"
  security.aethernova.io/last-reviewed: "2025-09-11"
