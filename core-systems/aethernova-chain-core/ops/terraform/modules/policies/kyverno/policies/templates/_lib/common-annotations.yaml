# Strategic Merge Patch для применения через Kustomize (patches -> target: kind=ClusterPolicy)
apiVersion: kyverno.io/v1
kind: ClusterPolicy
metadata:
  annotations:
    # Официальные аннотации Kyverno для каталогизации и описания политик
    policies.kyverno.io/title: "Aethernova Kyverno Policy"
    policies.kyverno.io/category: "Security & Compliance"
    policies.kyverno.io/subject: "Kubernetes Admission Control"
    policies.kyverno.io/description: >
      Standardized policy metadata for Aethernova: enables discoverability,
      documentation, and governance alignment across clusters.

    # Внутренние аннотации для комплаенса, аудита и трассировки
    policy.aethernova.io/owner: "platform-security"
    policy.aethernova.io/change-control: "terraform-managed"
    policy.aethernova.io/source-repo: "aethernova-chain-core/ops/terraform/modules/policies/kyverno"
    policy.aethernova.io/contact: "secops@aethernova.local"
    policy.aethernova.io/compliance: "PSS, CIS Benchmarks (as applicable), Org Controls"
    policy.aethernova.io/lifecycle: "production"
    policy.aethernova.io/reviewed-at: "2025-09-12"

    # Рекомендованные ключи для последующей автоматизации/дашбордов
    policy.aethernova.io/tier: "baseline"     # baseline|restricted|custom
    policy.aethernova.io/severity: "high"     # info|low|medium|high|critical
    policy.aethernova.io/environment: "shared"
