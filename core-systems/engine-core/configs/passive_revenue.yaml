# engine-core/configs/passive_revenue.yaml
passive_revenue:
  enabled: true

  ads:
    enabled: true
    minimal_mode: true             # строгий лимит показов
    max_impressions_per_user_day: 3
    placements:
      - id: "home_top"
        size: "banner-728x90"
        providers: ["ton_ads", "adsense"]
      - id: "webapp_inline"
        size: "rect-300x250"
        providers: ["ton_ads"]
    provider_configs:
      adsense:
        publisher_id: "${ADSENSE_PUBLISHER_ID}"
        client_id: "${ADSENSE_CLIENT_ID}"
      ton_ads:
        endpoint: "https://api.ton-ads.example"
        api_key: "${TON_ADS_API_KEY}"

  liquidity:
    enabled: true
    min_free_balance_usd: 500.0
    target_yield_apy_min: 1.5
    risk_profile: "conservative"   # conservative|balanced
    rebalance_cron: "*/30 * * * *" # каждые 30 минут (планировщик)
    connectors:
      evm:
        rpc_url: "${EVM_RPC_URL}"
        wallet_key: "${EVM_WALLET_KEY}"
      ton:
        endpoint: "${TON_ENDPOINT}"
        wallet_key: "${TON_WALLET_KEY}"
    strategies:
      - "stable_stake"
      - "lp_safe_pool"

  marketplace:
    enabled: true
    ai_autogen: true
    storage_bucket: "assets-low-effort"
    payout_currency: "REVA"
    price_policy:
      min_price: 1.00
      max_price: 9.99
      currency: "USDT"

  api_resale:
    enabled: true
    metering_window_sec: 60
    resale_margin_pct: 12.5
    quota_reserve_daily: 1000          # минимальный неснижаемый остаток
    upstreams:
      - name: "llm_primary"
        base_url: "https://api.example-llm"
        cost_per_1k_tokens_usd: 0.002
      - name: "vision_ocr"
        base_url: "https://api.example-ocr"
        cost_per_call_usd: 0.001

  nft_pass:
    enabled: true
    chain: "EVM"                        # EVM|TON
    renewal_cron: "0 3 * * *"           # ежедневно в 03:00 UTC
    pricing:
      monthly_usd: 3.00
    perks:
      - "profile_theme"
      - "vip_badge"
      - "priority_queue"
