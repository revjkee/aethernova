# mythos-core/ops/helm/mythos-core/Chart.yaml
apiVersion: v2
name: mythos-core
type: application

# Версия чарта (семантическая) — меняется при любом изменении чарта.
version: 0.1.0

# Версия приложения (семантическая) — синхронизируйте с релизами приложения.
appVersion: "1.0.0"

description: >
  Mythos Core — ядро сервисов (API/worker/stateful) для AI/ML-платформы.
  Чарт предоставляет базовую установку с опциональными зависимостями
  и строгими ограничениями совместимости Kubernetes.

# Минимальная совместимость кластера (включая минорные апдейты)
kubeVersion: ">=1.25.0-0"

# Удобные теги для поиска
keywords:
  - ai
  - ml
  - platform
  - api
  - worker
  - stateful
  - kubernetes
  - helm

# Поддерживающие лица (email/url опциональны; оставлены только имена)
maintainers:
  - name: Aethernova-Mythos
  - name: Platform-Ops
  - name: SRE-Core

# Аннотации: пригодны для репозитория артефактов/каталогов чартов
annotations:
  artifacthub.io/prerelease: "false"
  artifacthub.io/containsSecurityUpdates: "false"
  artifacthub.io/license: "Apache-2.0"
  # Краткая история изменений для первых публикаций
  artifacthub.io/changes: |-
    - Initial chart release for mythos-core with HA defaults and optional deps.

# Зависимости подключаются только при явном включении через values.*.enabled
# Версии указаны как универсальные диапазоны без навязывания конкретного релиза.
# Рекомендуется закрепить версии в вашем локальном процессе релиза.
dependencies:
  - name: common
    repository: "oci://registry-1.docker.io/bitnamicharts"
    version: "*"
    condition: common.enabled

  - name: postgresql
    repository: "oci://registry-1.docker.io/bitnamicharts"
    version: "*"
    condition: postgresql.enabled

  - name: redis
    repository: "oci://registry-1.docker.io/bitnamicharts"
    version: "*"
    condition: redis.enabled

# Примечания:
# - По умолчанию ни одна зависимость не будет установлена (все *.enabled=false).
# - Закрепляйте версии зависимостей через ровные семвер-диапазоны в CI/CD,
#   чтобы обеспечить воспроизводимость (например, ~12.10.0 для postgresql).
# - Иконка/источники/домашняя страница опущены, так как здесь не определены.
