# EditorConfig — единые правила форматирования для всего репозитория Zero-Trust Core
# Подробнее: https://editorconfig.org

root = true

# -----------------------------
# Глобальные дефолты (по умолчанию для всех файлов)
# -----------------------------
[*]
charset = utf-8
end_of_line = lf
insert_final_newline = true
trim_trailing_whitespace = true
indent_style = space
indent_size = 2

# -----------------------------
# Текстовые и документация
# -----------------------------
[*.{md,MD,rst,adoc,txt}]
# В Markdown и др. документах двойной пробел в конце строки значим → не трогаем
trim_trailing_whitespace = false
indent_size = 2

# Патчи/дифы: пробелы и окончания строк должны сохраняться как есть
[*.{patch,diff}]
trim_trailing_whitespace = false
insert_final_newline = false

# -----------------------------
# Скрипты и оболочки
# -----------------------------
[*.{sh,bash,zsh}]
indent_style = space
indent_size = 2

[*.ps1]
indent_style = space
indent_size = 2

[*.{bat,cmd}]
# Для Windows-скриптов допускаем CRLF при необходимости
end_of_line = crlf
indent_style = space
indent_size = 2

# -----------------------------
# Языки программирования
# -----------------------------
# Python (PEP 8)
[*.py]
indent_style = space
indent_size = 4

# Go форматирует табами (gofmt)
[*.go]
indent_style = tab
# gofmt визуально рендерит таб = 8 колонок (частый дефолт)
tab_width = 8
# insert_final_newline/trim наследуются глобально

# Rust
[*.rs]
indent_style = space
indent_size = 4

# C/C++/Headers
[*.{c,cc,cpp,cxx,h,hpp}]
indent_style = space
indent_size = 4

# Java/Kotlin
[*.{java,kt,kts}]
indent_style = space
indent_size = 4

# C#
[*.cs]
indent_style = space
indent_size = 4

# Ruby
[*.rb]
indent_style = space
indent_size = 2

# PHP
[*.php]
indent_style = space
indent_size = 4

# TypeScript/JavaScript (включая React)
[*.{ts,tsx,js,jsx,mjs,cjs}]
indent_style = space
indent_size = 2

# Vue/Svelte
[*.{vue,svelte}]
indent_style = space
indent_size = 2

# SQL
[*.sql]
indent_style = space
indent_size = 4

# GraphQL/Proto
[*.{graphql,gql,proto}]
indent_style = space
indent_size = 2

# -----------------------------
# Конфигурации/манифесты
# -----------------------------
# JSON (включая dot‑конфиги с JSON‑синтаксисом)
[*.{json,jsonc}]
indent_style = space
indent_size = 2

# Точки .json‑конфигов, хранящиеся как dotfiles
[.{babelrc,eslintrc,prettierrc,stylelintrc,swcrc}]
indent_style = space
indent_size = 2

# YAML
[*.{yml,yaml}]
indent_style = space
indent_size = 2

# TOML/INI
[*.{toml,ini,properties}]
indent_style = space
indent_size = 2

# Terraform/HCL
[*.{tf,tfvars,hcl}]
indent_style = space
indent_size = 2

# Dockerfile/Containerfile
[{Dockerfile,Containerfile,**/Dockerfile,**/Containerfile}]
indent_style = space
indent_size = 2

# Kubernetes манифесты (дублирование YAML‑правил для явности)
[**/k8s/**.yaml]
indent_style = space
indent_size = 2

# XML/HTML/SVG
[*.{xml,html,svg}]
indent_style = space
indent_size = 2

# Makefiles (TAB обязателен)
[{Makefile,makefile,GNUmakefile,*.mk}]
indent_style = tab
tab_width = 4
insert_final_newline = true
trim_trailing_whitespace = true

# -----------------------------
# Специальные файлы и мета
# -----------------------------
[.editorconfig]
indent_style = space
indent_size = 2

[*.{gitconfig,gitmodules,gitattributes}]
indent_style = space
indent_size = 2

[*.env]
# Как правило, хвостовые пробелы не несут смысла → оставляем общий дефолт тримминга
indent_style = space
indent_size = 2

# -----------------------------
# Сборочные/вендорные/сгенерированные артефакты — не трогаем
# -----------------------------
[{node_modules,dist,build,out,target,coverage,venv,.venv,env,.env,.cache,vendor,third_party,generated,*.min.*}/**]
# Не вмешиваемся в формат сгенерированных/вендорных файлов
insert_final_newline = false
trim_trailing_whitespace = false

# -----------------------------
# Бинарники и медиа — для ясности (редакторы должны игнорировать)
# -----------------------------
[*.{png,jpg,jpeg,gif,webp,ico,icns,mp3,mp4,ogg,wasm,woff,woff2,eot,ttf,otf,zip,tar,gz,bz2,7z}]
insert_final_newline = false
trim_trailing_whitespace = false
charset = utf-8
