# agent_rl/trading/configs/env_config.yaml

# === Режим исполнения ===
mode: train               # train / test / live

# === Биржа / источник данных ===
market:
  provider: binance
  asset_pair: BTC/USDT
  timeframe: 1m
  history_limit: 1000    # количество свечей в observation

# === Торговая логика среды ===
trading:
  initial_balance: 100000.0
  trading_fee: 0.001       # комиссия за сделку (0.1%)
  slippage: 0.0005         # допущение по проскальзыванию
  max_position: 1          # позиции: -1 (шорт), 0 (нет), +1 (лонг)
  max_holding_period: 1440 # максимум в минутах, 1 день
  allow_short: true

# === Ограничения среды ===
limits:
  max_drawdown: 0.25       # при превышении — reset
  max_loss: 0.3            # критическая просадка
  inactivity_reset: 60     # если нет сделок 60 шагов — reset

# === Параметры генерации среды ===
environment:
  reward_function: reward_sharpe_ratio   # reward_pnl / reward_sharpe_ratio / custom
  indicators: [RSI, EMA, MACD, BollingerBands]
  use_normalization: true
  random_start_offset: true
  time_aware_observation: true

# === Логирование ===
logging:
  log_to_file: true
  log_dir: logs/env/
  log_freq_steps: 10
  metrics: [pnl, sharpe, drawdown, win_rate, volatility]

# === Генератор сидов (контролируемость) ===
seeding:
  random_seed: 42
  deterministic: true

# === Live-режим (если mode = live) ===
live:
  broker_adapter: dummy_adapter       # для тестов: dummy, binance_adapter, alpaca_adapter
  live_trading_interval_sec: 30
  stop_loss_percent: 0.05
  take_profit_percent: 0.10
  allow_live_order_send: false
