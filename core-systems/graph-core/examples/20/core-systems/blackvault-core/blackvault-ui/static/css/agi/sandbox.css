/* =================================================================
   Industrial-grade AGI Sandbox UI Styles
   File: blackvault-ui/static/css/agi/sandbox.css
   Предназначен для безопасной визуализации и интерфейсов недоверенной AGI-песочницы
   ================================================================= */

/* CSS Variables для основных цветов и теней */
:root {
  --sandbox-bg-color: #1e1e2f;               /* Темный фон песочницы */
  --sandbox-border-color: #555770;           /* Цвет границ */
  --sandbox-shadow-color: rgba(0, 0, 0, 0.85);
  --sandbox-text-color: #d0d0e5;             /* Цвет текста */
  --sandbox-highlight-color: #ff7043;        /* Цвет выделения */
  --sandbox-error-color: #e53935;            /* Ошибки и аномалии */
  --sandbox-safe-color: #43a047;             /* Безопасные состояния */
  --sandbox-transition: 0.3s ease;
}

/* Контейнер песочницы */
.sandbox-container {
  background-color: var(--sandbox-bg-color);
  border: 2px solid var(--sandbox-border-color);
  border-radius: 0.75rem;
  box-shadow: 0 4px 16px var(--sandbox-shadow-color);
  padding: 1.25rem 1.5rem;
  color: var(--sandbox-text-color);
  font-family: 'Roboto Mono', monospace;
  font-size: 1rem;
  user-select: text;
  overflow-y: auto;
  max-height: 600px;
  position: relative;
  transition: border-color var(--sandbox-transition), box-shadow var(--sandbox-transition);
}

/* Подсветка при фокусе (активное взаимодействие) */
.sandbox-container:focus-within {
  border-color: var(--sandbox-highlight-color);
  box-shadow: 0 0 12px var(--sandbox-highlight-color);
  outline: none;
}

/* Заголовок блока */
.sandbox-header {
  font-weight: 700;
  font-size: 1.25rem;
  margin-bottom: 0.75rem;
  color: var(--sandbox-text-color);
  border-bottom: 1px solid var(--sandbox-border-color);
  padding-bottom: 0.5rem;
}

/* Контент — логи, данные, визуализация */
.sandbox-content {
  font-size: 0.9rem;
  line-height: 1.4;
  white-space: pre-wrap;
  word-break: break-word;
  color: var(--sandbox-text-color);
}

/* Метки статусов */

/* Безопасное состояние */
.sandbox-status-safe {
  color: var(--sandbox-safe-color);
  font-weight: 600;
}

/* Ошибка или аномалия */
.sandbox-status-error {
  color: var(--sandbox-error-color);
  font-weight: 700;
  background-color: rgba(229, 57, 53, 0.15);
  border-radius: 0.25rem;
  padding: 0 0.25rem;
}

/* Выделение важных блоков */
.sandbox-highlight {
  background-color: var(--sandbox-highlight-color);
  color: #fff;
  padding: 0 0.3rem;
  border-radius: 0.3rem;
  font-weight: 600;
}

/* Кнопки управления песочницей */
.sandbox-button {
  background-color: transparent;
  border: 1.5px solid var(--sandbox-border-color);
  color: var(--sandbox-text-color);
  padding: 0.4rem 0.9rem;
  border-radius: 0.4rem;
  font-size: 0.95rem;
  font-weight: 600;
  cursor: pointer;
  transition: background-color var(--sandbox-transition), border-color var(--sandbox-transition), color var(--sandbox-transition);
  user-select: none;
  margin-top: 1rem;
  display: inline-block;
}

/* Ховер эффекты кнопок */
.sandbox-button:hover {
  background-color: var(--sandbox-highlight-color);
  border-color: var(--sandbox-highlight-color);
  color: #fff;
}

/* Заблокированные (disabled) кнопки */
.sandbox-button:disabled,
.sandbox-button[disabled] {
  opacity: 0.5;
  cursor: not-allowed;
  background-color: transparent;
  border-color: var(--sandbox-border-color);
  color: var(--sandbox-border-color);
}

/* Анимация появления ошибки */
@keyframes errorFlash {
  0%, 100% { background-color: transparent; }
  50% { background-color: rgba(229, 57, 53, 0.3); }
}

.sandbox-status-error.flash {
  animation: errorFlash 1.5s ease-in-out infinite;
}

/* Адаптивность для мобильных */
@media (max-width: 768px) {
  .sandbox-container {
    max-height: 400px;
    padding: 1rem 1.2rem;
    font-size: 0.9rem;
  }
  .sandbox-header {
    font-size: 1.1rem;
  }
  .sandbox-button {
    padding: 0.3rem 0.7rem;
    font-size: 0.9rem;
  }
}
