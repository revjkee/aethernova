# kibana.yml
# –ü—Ä–æ–º—ã—à–ª–µ–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Kibana
# –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ–Ω—Å–∏–ª–ª–∏—É–º–æ–º –∏–∑ 20 –∞–≥–µ–Ω—Ç–æ–≤ –∏ —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ 3 –º–µ—Ç–∞–≥–µ–Ω–µ—Ä–∞–ª–∞–º–∏ TeslaAI Genesis

# Server Configuration
server.name: "kibana"
server.host: "0.0.0.0"
server.port: 5601
server.publicBaseUrl: "https://kibana.teslaai.local"

# SSL
server.ssl.enabled: true
server.ssl.certificate: /usr/share/kibana/config/certs/kibana.crt
server.ssl.key: /usr/share/kibana/config/certs/kibana.key
server.ssl.certificateAuthorities: [ "/usr/share/kibana/config/certs/ca.crt" ]

# Elasticsearch Connection
elasticsearch.hosts: [ "https://elk-elasticsearch:9200" ]
elasticsearch.username: "kibana_system"
elasticsearch.password: "${KIBANA_PASSWORD}"
elasticsearch.ssl.verificationMode: full
elasticsearch.ssl.certificateAuthorities: [ "/usr/share/kibana/config/certs/ca.crt" ]

# Security & Access Control
xpack.security.enabled: true
xpack.security.authc.providers: [ "basic", "token", "saml" ]
xpack.security.audit.enabled: true
xpack.security.audit.appender.type: rolling-file
xpack.security.audit.appender.rolling-file.path: "/var/log/kibana/audit.log"
xpack.security.audit.appender.rolling-file.layout.type: json

# Dashboards and Spaces
xpack.spaces.enabled: true
xpack.dashboard_mode.enabled: true
xpack.dashboard_mode.roles: [ "superuser", "observability_admin" ]
xpack.reporting.roles.enabled: true

# Monitoring
monitoring.ui.enabled: true
monitoring.ui.container.elasticsearch.enabled: true

# Telemetry & Analytics
telemetry.enabled: false
telemetry.optIn: false
telemetry.sendUsageFrom: "none"
usageCollection.enabled: false

# UI Customization
status.allowAnonymous: false
newsfeed.enabled: false
notifications.banner: "üö® TeslaAI Observability Console"
notifications.lifespan: 10000

# Saved Objects / Import-Export
savedObjects.maxImportPayloadBytes: 26214400
savedObjects.maxImportExportSize: 10000

# Request/Response Limits
server.maxPayload: 10485760
server.compression.enabled: true

# Logging
logging.root.level: info
logging.appenders:
  file:
    type: file
    fileName: /var/log/kibana/kibana.log
    layout:
      type: json
logging.loggers:
  - name: plugins
    level: error
  - name: elasticsearch
    level: warn
  - name: http.server
    level: info
logging.root.appenders: [ file ]

# Licensing (optional fallback for trial mode)
xpack.license_management.ui.enabled: true
